#load_ckpt: /scratch1/e3moldiffusion/logs/crossdocked/x0_finetune/run0/last-v9.ckpt
# load_ckpt_from_pretrained: /sharedhome/cremej01/workspace/logs/pubchem/x0_pretraining_0_snr_t_weighting_bs400/run0/last.ckpt
#/hpfs/userws/cremej01/projects/logs/pubchem/pretrain_x0_3_adaptive/run0/last.ckpt
# ckpt_bond_model: /hpfs/userws/cremej01/projects/logs/geom/bond_pred_seed1/run0/last.ckpt

#FOR TEST EVAL
save_xyz: true
calculate_energy: true
num_test_graphs: 10000
inference_batch_size: 2
use_ligand_dataset_sizes: false
test_save_dir: /scratch1/e3moldiffusion/logs/crossdocked/test_tuan

bond_model_guidance: false
bond_prediction: false

seed: 42
# batch_size 40 without adaptive, and 200 with adaptive
batch_size: 16
ema_decay: 0.999
grad_clip_val: 10
accum_batch: 1
gamma: 0.99

use_adaptive_loader: false
remove_hs: true

gpus: 4
num_epochs: 401
test_interval: 20

#EQGAT
sdim: 256
vdim: 128
edim: 128
num_layers: 12
use_cross_product: false
edge_mp: false
fully_connected: true
local_global_model: false
vector_aggr: mean

# LATENT
sdim_latent: 256
vdim_latent: 128
edim_latent: 1
num_layers_latent: 8
latent_dim: 128
context_mapping: false 
num_context_features: 128
use_cross_product: false
local_edge_attrs: false
fully_connected: true
local_global_model: false

#DATA
dataset: crossdocked
dataset_root: /scratch1/cremej01/data/crossdocked_noH_cutoff5

# DIFFUSION
additional_feats: false
continuous: false
noise_scheduler: adaptive
eps_min: 1.e-3
beta_min: 1.e-4
beta_max: 2.e-2
timesteps: 500
max_time: 06:00:00:00
loss_weighting: snr_t

#LOGGING
save_dir: /sharedhome/let55/projects/e3moldiffusion_experiments/logs_new/crossdocked/shape_latent_new_smallerDim
id: 0

#LEARNING
lr_scheduler: reduce_on_plateau
lr: 2.e-4
lr_min: 5.e-5 #used for cyclic scheduler
lr_step_size: 5.e-5 #used for cyclic scheduler
lr_factor: 0.75
lr_patience: 20
max_num_neighbors: 128
weight_decay: 1.e-12

num_workers: 4
precision: 32